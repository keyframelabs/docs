<Steps>
  <Step title="Create the HTML" stepNumber={1}>
    ```html expandable
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>My Keyframe Persona Demo</title>
      </head>
      <body>
        <div
          style="
            font-family: monospace;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 15px;
            text-align: center;
            padding: 25px;
          "
        >
          <h1>Chat with your Keyframe Persona</h1>
    
          <div
            id="persona-video"
            style="
              width: 95%;
              max-width: 384px;
              aspect-ratio: 1 / 1;
              background: black;
            "
          ></div>
    
          <div style="display: flex; gap: 5px;">
            <button id="start">Start</button>
            <button id="stop" disabled>Stop</button>
          </div>
        </div>
      </body>
    
      <script type="module">
        import { PersonaView } from 'https://esm.sh/@keyframelabs/elements@0.0.4';
    
        // Replace with ephemeral credentials returned by the Keyframe API
        const sessionDetails = {};
    
    	// Replace with provider values
        const voiceAgentDetails = {};
    
        const view = new PersonaView({
          container: document.getElementById('persona-video'),
          sessionDetails,
          voiceAgentDetails,
          videoFit: 'contain',
          onStateChange: (status) => console.log('Status:', status),
          onAgentStateChange: (state) => console.log('Agent:', state),
          onDisconnect: () => console.log('Disconnected'),
          onError: (err) => console.error(err),
        });
    
        const startBtn = document.getElementById('start');
        const stopBtn = document.getElementById('stop');
    
        startBtn.addEventListener('click', async () => {
          try {
            startBtn.disabled = true;
            await view.connect();
            stopBtn.disabled = false;
          } catch (err) {
            console.error('Connect failed:', err);
            startBtn.disabled = false;
          }
        });
    
        stopBtn.addEventListener('click', async () => {
          try {
            await view.disconnect();
          } finally {
            stopBtn.disabled = true;
            startBtn.disabled = false;
          }
        });
      </script>
    </html>
    ```
  </Step>
  <Step title="Replace placeholder provider credentials" stepNumber={2}>
    In the HTML, replace `voiceAgentDetails` with the agent or LLM provider details from the prerequisites.

    ```html
    // Replace with your provider values from the prerequisites
    const voiceAgentDetails = {};
    ```
  </Step>
  <Step title="Generate ephemeral Keyframe credentials" stepNumber={3}>
    <Tabs>
      <Tab title="cURL">
        ```shellscript
        curl -X POST "https://api.keyframelabs.com/v1/sessions" \
          -H "Authorization: Bearer kfl_sk_live_..." \
          -H "Content-Type: application/json" \
          -d '{
            "persona_slug": "public:kai"
          }'
        ```
      </Tab>
    </Tabs>
    Be sure to replace `kfl_sk_live...` with your actual Keyframe API key.
  </Step>
  <Step title="Replace the placeholder Keyframe credentials" stepNumber={4}>
    In the HTML, replace `sessionDetails` with the values returned from the Keyframe API.

    ```html
    // Replace with the ephemeral credentials returned by the Keyframe API
    const sessionDetails = {};
    ```
  </Step>
  <Step title="Start a local server" stepNumber={5}>
    <Tabs>
      <Tab title="node">
        ```shellscript
        npx http-server -p 8000
        ```
      </Tab>
      <Tab title="python">
        ```shellscript
        python -m http.server 8000
        ```
      </Tab>
    </Tabs>
  </Step>
  <Step title="Open and test" stepNumber={6}>
    1. Navigate to `http://localhost:8000` in your browser
    2. Allow microphone access when prompted
    3. Your persona will appear automatically and you can start talking
    4. When you’re done, close the browser tab to end the session
  </Step>
</Steps>

## Summary

Congratulations on your first video call with a Keyframe persona. A couple things worth highlighting:

- You exchanged your Keyframe API key for ephemeral Keyframe session credentials
- The steps above "hardcoded" provider credentials—in production you'd want to generate these ephemerally
- The Keyframe Elements SDK uses these ephemeral credentials to establish all necessary real-time audio/video connections to display and interact with your personatial